
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Compare Objects with Lodash - Mastering JS</title>

    <meta property="og:title" content="Compare Objects with Lodash" />
    <meta property="og:site_name" content="Mastering JS" />
    <meta property="og:type" content="article" />
    <meta property="og:description" content="Lodash's `isEqual()` function provides a deep equality check for comparing objects. Here's what you need to know." />
    <meta name="description" content="Lodash's `isEqual()` function provides a deep equality check for comparing objects. Here's what you need to know." />
    <meta name="twitter:image" content="https://masteringjs.io/assets/logo.png">
    <meta property="og:image" content="https://masteringjs.io/assets/logo.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0001, minimum-scale=1.0001, maximum-scale=1.0001, user-scalable=no">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Consolas:400,700" rel="stylesheet">
    <link href="https://masteringjs.io/assets/logo.png" rel="shortcut icon" type="image/x-icon">
    <link href="https://masteringjs.io/assets/logo.png" rel="apple-touch-icon">

    <link rel="stylesheet" href="/assets/style.css" />
    <link rel="stylesheet" href="/assets/github.css" />
    <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="allwrapper">
      
<div class="nav">
  <div class="branding">
    <div class="logo">
      <img src="/assets/logo.svg" alt="Mastering JS Logo">
    </div>
    <div class="name">
      <a href="/">Mastering JS</a>
    </div>
    <div class="links">
      <a href="/all">Tutorials</a>
      <a href="https://www.getrevue.co/profile/masteringjs">Newsletter</a>
      <a href="/ebooks/mastering-mongoose">eBooks</a>
      <a href="/jobs">Jobs</a>
    </div>
    <div style="clear: both"></div>
  </div>
</div>
<label class="hamburger-menu" for="burger-check">
  &#x2630;
</label>
<input id="burger-check" class="burger-check" type="checkbox" style="display: none" />
<div class="links-mobile">
  <a href="/all">Tutorials</a>
  <a href="https://www.getrevue.co/profile/masteringjs">Newsletter</a>
  <a href="/ebooks/mastering-mongoose">eBooks</a>
</div>

      <div class="content">
        
  <div class="breadcrumbs">
    <a href="/all">Tutorials</a>
    /
    <a href="/lodash">Lodash</a>
    /
  </div>
  <h1>Compare Objects with Lodash</h1>
  <div class="date">
    Nov 6, 2020
  </div>
  <div id="default_masteringjsio"></div>
  <script>
	(function(){
	  if(typeof _bsa !== 'undefined' && _bsa) {
	    _bsa.init('default', 'CE7I62QE', 'placement:masteringjsio', { target: "#default_masteringjsio", align: "horizontal" });
	  }
	})();
	</script>
  <p>Lodash has an <a href="https://lodash.com/docs/4.17.15#isEqual"><code>isEqual()</code> function</a> that checks if two values are <a href="/tutorials/fundamentals/shallow-copy">deeply equal</a>. This function is different from the <a href="/tutorials/fundamentals/equals"><code>===</code> operator</a>, which only checks if two objects are the exact same reference:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> obj1 = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Will Riker'</span>,
  <span class="hljs-attr">rank</span>: <span class="hljs-string">'Commander'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">29</span>
};
<span class="hljs-keyword">const</span> obj2 = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Will Riker'</span>,
  <span class="hljs-attr">rank</span>: <span class="hljs-string">'Commander'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">29</span>
};

obj1 === obj1; <span class="hljs-comment">// true</span>
<span class="hljs-comment">// `===` only checks if two objects are the same reference, not if the</span>
<span class="hljs-comment">// the two objects have the exact same keys and values.</span>
obj1 === obj2; <span class="hljs-comment">// false</span>

<span class="hljs-comment">// Lodash's `isEqual()` checks if the two objects have the same keys</span>
<span class="hljs-comment">// and values:</span>
_.isEqual(obj1, obj2); <span class="hljs-comment">// true</span></code></pre>
<p>When comparing primitive values, the <code>isEqual()</code> function uses <a href="/tutorials/fundamentals/equality">SameValueZero semantics</a>, which means that <a href="/tutorials/fundamentals/nan"><code>NaN</code></a> is considered equal to itself, and <code>+0</code> is considered equal to <code>-0</code>.</p>
<pre><code class="language-javascript">_.isEqual({ <span class="hljs-attr">x</span>: <span class="hljs-literal">NaN</span> }, { <span class="hljs-attr">x</span>: <span class="hljs-literal">NaN</span> }); <span class="hljs-comment">// true</span>
_.isEqual({ <span class="hljs-attr">x</span>: +<span class="hljs-number">0</span> }, { <span class="hljs-attr">x</span>: <span class="hljs-number">-0</span> }); <span class="hljs-comment">// true</span></code></pre>
<h2 id="built-in-classes">Built-in Classes</h2>
<p>In addition, <code>isEqual()</code> is smart enough to <a href="/tutorials/fundamentals/compare-arrays">compare arrays</a>, dates, <code>Number</code> instances, and other built-in classes:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> obj1 = {
  <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'2020/06/01'</span>),
  <span class="hljs-attr">num</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>(<span class="hljs-number">1</span>)
};
<span class="hljs-keyword">const</span> obj2 = {
  <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'2020/06/01'</span>),
  <span class="hljs-attr">num</span>: <span class="hljs-number">1</span>
};

_.isEqual(obj1, obj2); <span class="hljs-comment">// true</span></code></pre>
<p>This makes <code>isEqual()</code> ideal for checking if two <a href="/tutorials/fundamentals/pojo">POJOs</a> have the same data.</p>
<h2 id="with-classes">With <a href="/tutorials/fundamentals/class">Classes</a></h2>
<p>The <code>isEqual()</code> function treats two objects as different if they are instances of different classes. For example,
even though the two objects in the below example have the same keys and values, they are different because <code>obj2</code>
is an instance of the <code>Character</code> class and <code>obj1</code> is not.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">name</span>: <span class="hljs-string">'Will Riker'</span>, <span class="hljs-attr">rank</span>: <span class="hljs-string">'Commander'</span> };

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Character</span> </span>{}
<span class="hljs-keyword">const</span> obj2 = <span class="hljs-keyword">new</span> Character();
<span class="hljs-built_in">Object</span>.assign(obj2, { <span class="hljs-attr">name</span>: <span class="hljs-string">'Will Riker'</span>, <span class="hljs-attr">rank</span>: <span class="hljs-string">'Commander'</span> });

_.isEqual(obj1, obj2); <span class="hljs-comment">// false</span></code></pre>
<p>Depending on your use case, this may be an issue. However, in general, you should only use <code>isEqual()</code> for
comparing POJOs as opposed to complex classes. In particular, if you want to compare <a href="https://mongoosejs.com/docs/documents.html">Mongoose documents</a>, you should convert the document to a POJO using <code>toObject()</code> first:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> Character = mongoose.model(<span class="hljs-string">'Character'</span>, Schema({
  <span class="hljs-attr">_id</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">String</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">Number</span>
}));
<span class="hljs-keyword">const</span> doc = <span class="hljs-keyword">new</span> Character({ <span class="hljs-attr">name</span>: <span class="hljs-string">'Will Riker'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">29</span> });

<span class="hljs-comment">// false, because `doc` is a document, not a POJO</span>
_.isEqual(doc, { <span class="hljs-attr">name</span>: <span class="hljs-string">'Will Riker'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">29</span> });

<span class="hljs-comment">// true</span>
_.isEqual(doc.toObject(), { <span class="hljs-attr">name</span>: <span class="hljs-string">'Will Riker'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">29</span> });</code></pre>

  
  <hr>
  <div id="jobs">
    <div id="jobs-container">

    </div>
    <div>
      <div class="button jobs-view-more">
        <a href="/jobs">
          View more jobs!
        </a>
      </div>
    </div>
  </div>
  <script src="../../src/client/listjobs.js"></script>
  
    <h2>More Lodash Tutorials</h2>
    <ul>
    
    <li><a href="/tutorials/lodash/pick">Lodash's `pick()` Function</a></li>
  

    <li><a href="/tutorials/lodash/merge">Lodash's `merge()` Function</a></li>
  

    <li><a href="/tutorials/lodash/map">Lodash's `map()` Function</a></li>
  

    <li><a href="/tutorials/lodash/filter">Lodash's `filter()` Function</a></li>
  

    <li><a href="/tutorials/lodash/clone">Cloning an Object with Lodash</a></li>
  

    <li><a href="/tutorials/lodash/debounce">Throttling Functions With Lodash's debounce() Function</a></li>
  

    <li><a href="/tutorials/lodash/find">Using Lodash's find() Function</a></li>
  
    </ul>
  

      </div>
      

<script type="text/javascript">
  var xhr = new XMLHttpRequest();
  xhr.open('POST', 'https://g0a3nbw0xa.execute-api.us-east-1.amazonaws.com/prod/track', true);

  xhr.setRequestHeader('Content-Type', 'application/json');

  xhr.onreadystatechange = function() {};
  xhr.send(JSON.stringify({
    path: window.location.pathname,
    hostname: window.location.hostname
  }));
</script>


      
    </div>
    <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CE7DLKQY&placement=masteringjsio" id="_carbonads_js"></script>
  </body>
</html>
