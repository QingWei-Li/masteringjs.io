
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Global Variables in JavaScript - Mastering JS</title>

    <meta property="og:title" content="Global Variables in JavaScript" />
    <meta property="og:site_name" content="Mastering JS" />
    <meta property="og:type" content="article" />
    <meta property="og:description" content="Any JavaScript variable defined outside any function is a global variable, but that comes with caveats for Node.js and Webpack. Here's what you need to know." />
    <meta name="description" content="Any JavaScript variable defined outside any function is a global variable, but that comes with caveats for Node.js and Webpack. Here's what you need to know." />
    <meta name="twitter:image" content="https://masteringjs.io/assets/logo.png">
    <meta property="og:image" content="https://masteringjs.io/assets/logo.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0001, minimum-scale=1.0001, maximum-scale=1.0001, user-scalable=no">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Consolas:400,700" rel="stylesheet">
    <link href="https://masteringjs.io/assets/logo.png" rel="shortcut icon" type="image/x-icon">
    <link href="https://masteringjs.io/assets/logo.png" rel="apple-touch-icon">

    <link rel="stylesheet" href="/assets/style.css" />
    <link rel="stylesheet" href="/assets/github.css" />
  
    <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="allwrapper">
      
<div class="nav">
  <div class="branding">
    <div class="logo">
      <img src="/assets/logo.svg" alt="Mastering JS Logo">
    </div>
    <div class="name">
      <a href="/">Mastering JS</a>
    </div>
    <div class="links">
      <a href="/all">Tutorials</a>
      <a href="https://www.getrevue.co/profile/masteringjs">Newsletter</a>
      <a href="/ebooks/mastering-mongoose">eBooks</a>
    </div>
    <div style="clear: both"></div>
  </div>
</div>
<label class="hamburger-menu" for="burger-check">
  &#x2630;
</label>
<input id="burger-check" class="burger-check" type="checkbox" style="display: none" />
<div class="links-mobile">
  <a href="/all">Tutorials</a>
  <a href="https://www.getrevue.co/profile/masteringjs">Newsletter</a>
  <a href="/ebooks/mastering-mongoose">eBooks</a>
</div>

      <div class="content">
        
  <div class="breadcrumbs">
    <a href="/all">Tutorials</a>
    /
    <a href="/fundamentals">Fundamentals</a>
    /
  </div>
  <h1>Global Variables in JavaScript</h1>
  <div class="date">
    Feb 2, 2021
  </div>
  <div id="default_masteringjsio"></div>
  <script>
	(function(){
	  if(typeof _bsa !== 'undefined' && _bsa) {
	    _bsa.init('default', 'CE7I62QE', 'placement:masteringjsio', { target: "#default_masteringjsio", align: "horizontal" });
	  }
	})();
	</script>
  <p>In JavaScript, any variable defined outside any function or block is part of the <a href="https://www.w3schools.com/js/js_scope.asp">global scope</a> and is a global variable that any function can access.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> answer = <span class="hljs-number">42</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn1</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(answer); <span class="hljs-comment">// Prints "42"</span>
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn2</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(answer); <span class="hljs-comment">// Prints "42"</span>
}</code></pre>
<p>If you&#39;re importing uncompiled JavaScript in the browser using <code>&lt;script&gt;</code> tags, global variables are shared between
different <code>&lt;script&gt;</code> tags. In other words, different <code>&lt;script&gt;</code> tags share the same global scope.</p>
<pre><code class="language-html">&lt;script type=<span class="hljs-string">"text/javascript"</span>&gt;
  <span class="hljs-keyword">const</span> answer = <span class="hljs-number">42</span>;
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
&lt;script type=<span class="hljs-string">"text/javascript"</span>&gt;
  <span class="hljs-built_in">console</span>.log(answer); <span class="hljs-comment">// 42</span>
&lt;<span class="hljs-regexp">/script&gt;</span></code></pre>
<h2 id="in-nodejs">In Node.js</h2>
<p>Things are a little different in Node.js. In Node.js, a variable defined outside any function only has <a href="https://stackabuse.com/using-global-variables-in-node-js/">file scope</a>. Each individual <code>.js</code> file has its own &quot;global scope&quot; in Node.js.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// file1.js</span>
<span class="hljs-keyword">const</span> answer = <span class="hljs-number">42</span>;

<span class="hljs-comment">// file2.js</span>
<span class="hljs-keyword">typeof</span> answer; <span class="hljs-comment">// 'undefined'</span></code></pre>
<p>To create a true global variable in Node.js, that is shared between multiple files, you should use the <a href="https://nodejs.org/api/globals.html#globals_global"><code>global</code> object</a>.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// file1.js</span>
global.answer = <span class="hljs-number">42</span>;

<span class="hljs-comment">// file2.js</span>
global.answer; <span class="hljs-comment">// 42</span></code></pre>
<h2 id="with-webpack">With <a href="/webpack">Webpack</a></h2>
<p>Like Node.js, <a href="https://webpack.js.org/api/module-variables/#global-nodejs">Webpack supports a <code>global</code> object that you should use to declare global variables</a>. That&#39;s because Webpack compiles the below JavaScript:</p>
<pre><code class="language-javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Hello, World!'</span>);</code></pre>
<p>Into the below JavaScript, modulo whitespace for some better readability.</p>
<pre><code class="language-javascript">!<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> t={};<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">n</span>)</span>{<span class="hljs-keyword">if</span>(t[n])<span class="hljs-keyword">return</span> t[n].exports;<span class="hljs-keyword">var</span> o=t[n]={<span class="hljs-attr">i</span>:n,<span class="hljs-attr">l</span>:!<span class="hljs-number">1</span>,<span class="hljs-attr">exports</span>:{}};<span class="hljs-keyword">return</span> e[n].call(o.exports,o,o.exports,r),o.l=!<span class="hljs-number">0</span>,o.exports}r.m=e,r.c=t,r.d=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,t,n</span>)</span>{r.o(e,t)||<span class="hljs-built_in">Object</span>.defineProperty(e,t,{<span class="hljs-attr">enumerable</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">get</span>:n})},r.r=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Symbol</span>&amp;&amp;<span class="hljs-built_in">Symbol</span>.toStringTag&amp;&amp;<span class="hljs-built_in">Object</span>.defineProperty(e,<span class="hljs-built_in">Symbol</span>.toStringTag,{<span class="hljs-attr">value</span>:<span class="hljs-string">"Module"</span>}),<span class="hljs-built_in">Object</span>.defineProperty(e,<span class="hljs-string">"__esModule"</span>,{<span class="hljs-attr">value</span>:!<span class="hljs-number">0</span>})},r.t=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>&amp;t&amp;&amp;(e=r(e)),<span class="hljs-number">8</span>&amp;t)<span class="hljs-keyword">return</span> e;<span class="hljs-keyword">if</span>(<span class="hljs-number">4</span>&amp;t&amp;&amp;<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;e&amp;&amp;e.__esModule)<span class="hljs-keyword">return</span> e;<span class="hljs-keyword">var</span> n=<span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);<span class="hljs-keyword">if</span>(r.r(n),<span class="hljs-built_in">Object</span>.defineProperty(n,<span class="hljs-string">"default"</span>,{<span class="hljs-attr">enumerable</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">value</span>:e}),<span class="hljs-number">2</span>&amp;t&amp;&amp;<span class="hljs-string">"string"</span>!=<span class="hljs-keyword">typeof</span> e)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o <span class="hljs-keyword">in</span> e)r.d(n,o,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> e[t]}.bind(<span class="hljs-literal">null</span>,o));<span class="hljs-keyword">return</span> n},r.n=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> t=e&amp;&amp;e.__esModule?<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> e.default}:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> e};<span class="hljs-keyword">return</span> r.d(t,<span class="hljs-string">"a"</span>,t),t},r.o=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(e,t)},r.p=<span class="hljs-string">""</span>,r(r.s=<span class="hljs-number">0</span>)}([
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,t</span>)</span>{<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Hello, World!"</span>)}
]);</code></pre>
<p>The important issue is that Webpack&#39;s compiler wraps individual files in their own functions, so Webpack-compiled JavaScript also has file-level scopes, rather than true global scope like if you&#39;re loading JavaScript files via <code>&lt;script&gt;</code> tags. So here&#39;s how you can declare a global variable with Webpack:</p>
<pre><code class="language-javascript">global.answer = <span class="hljs-number">42</span>;</code></pre>
<h2 id="automatic-global">Automatic Global</h2>
<p>If you assign to an variable that you didn&#39;t define using <code>let</code>, <code>const</code>, or <code>var</code> outside of <a href="/tutorials/fundamentals/strict">strict mode</a>, that automatically becomes a global variable.</p>
<pre><code class="language-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  answer = <span class="hljs-number">42</span>; <span class="hljs-comment">// `answer` becomes global scoped in the browser, or file scoped in Node.js</span>
}</code></pre>
<p>However, in strict mode, assigning to an undefined variable throws an error. This is one of several reasons why you
should use strict mode, unless you have a very good reason not to.</p>
<pre><code class="language-javascript"><span class="hljs-meta">'use strict'</span>;

(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  answer = <span class="hljs-number">42</span>; <span class="hljs-comment">// 'ReferenceError: answer is not defined' instead of making `answer` a global</span>
})();</code></pre>

  
  <hr>
  
    <h2>More Fundamentals Tutorials</h2>
    <ul>
    
    <li><a href="/tutorials/fundamentals/typeof-function">How to Use typeof With and as Functions</a></li>
  

    <li><a href="/tutorials/fundamentals/primitives">The Seven Standard Primitives in JavaScript</a></li>
  

    <li><a href="/tutorials/fundamentals/array-to-string">How to Convert an Array to a String in JavaScript</a></li>
  

    <li><a href="/tutorials/fundamentals/parameters">How to Use Named Parameters in JavaScript</a></li>
  

    <li><a href="/tutorials/fundamentals/spread">How to Use JavaScript's Spread Operator</a></li>
  

    <li><a href="/tutorials/fundamentals/convert-string-to-array">Convert a String to an Array in JavaScript</a></li>
  

    <li><a href="/tutorials/fundamentals/compare-objects">How to Compare Objects in JavaScript</a></li>
  
    </ul>
  

      </div>

      

<script type="text/javascript">
  var xhr = new XMLHttpRequest();
  xhr.open('POST', 'https://g0a3nbw0xa.execute-api.us-east-1.amazonaws.com/prod/track', true);

  xhr.setRequestHeader('Content-Type', 'application/json');

  xhr.onreadystatechange = function() {};
  xhr.send(JSON.stringify({
    path: window.location.pathname,
    hostname: window.location.hostname
  }));
</script>


      
    </div>

    <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CE7DLKQY&placement=masteringjsio" id="_carbonads_js"></script>
  </body>
</html>
